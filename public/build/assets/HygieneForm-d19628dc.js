import{q as v,W as y,j as e,a as n,d as f}from"./app-e1033121.js";import{_ as i}from"./lodash-81270b6a.js";function C(){const{auth:_}=v().props,x=new URLSearchParams(window.location.search).get("restau"),{data:t,setData:m,post:h,processing:u,errors:w}=y({name:_.user.name,date:"",restau:x,type:"hygiene",moyens:{economat:{economat_salle_ferme:{etat:"non",commentaire:""},economat_chimique_ferme:{etat:"non",commentaire:""},economat_food_ferme:{etat:"non",commentaire:""}},salle:{torchon_salle:{etat:"non",commentaire:""},deobact_salle:{etat:"non",commentaire:""},balai_salle:{etat:"non",commentaire:""},port_tenue_responsable:{etat:"non",commentaire:""},port_tenue_serveur:{etat:"non",commentaire:""},boxs_livreurs:{etat:"non",commentaire:""},poubelle_salle:{etat:"non",commentaire:""}},pizzeria:{port_tenue_pizzaiolo:{etat:"non",commentaire:""},distributeur_essui_main:{etat:"non",commentaire:""},distributeur_savon_pizzeria:{etat:"non",commentaire:""},deobact_pizzeria:{etat:"non",commentaire:""},torchon_pizzeria:{etat:"non",commentaire:""},poubelle_pizzeria:{etat:"non",commentaire:""}},wc_client:{distributeur_savon_wc:{etat:"non",commentaire:""},papier_hygienique_wc_client:{etat:"non",commentaire:""},papier_essui_main_wc_client:{etat:"non",commentaire:""},poubelle_wc_client:{etat:"non",commentaire:""}},cuisine:{port_tenue_cuisinier:{etat:"non",commentaire:""},deobact_cuisine:{etat:"non",commentaire:""},supervix:{etat:"non",commentaire:""},nectal_wc:{etat:"non",commentaire:""},mister_glass:{etat:"non",commentaire:""},javel:{etat:"non",commentaire:""},sanicroix:{etat:"non",commentaire:""},distributeur_savon_plonge:{etat:"non",commentaire:""},distributeur_essui_main_plonge:{etat:"non",commentaire:""},torchon_cuisine:{etat:"non",commentaire:""},poubelle_cuisine:{etat:"non",commentaire:""}},vestiaire:{vestiaire_personnel:{etat:"non",commentaire:""},wc_personnel:{etat:"non",commentaire:""},casiers_ferme:{etat:"non",commentaire:""},douche_personnel:{etat:"non",commentaire:""},papier_hygienique_personnel:{etat:"non",commentaire:""},distributeur_savon_personnel:{etat:"non",commentaire:""},poubelle_vestiaire:{etat:"non",commentaire:""}}},controles:{rangement_economats:{rangement_economat_chimique:{value:"",commentaire:""},rangement_economat_salle:{value:"",commentaire:""},rangement_economat_food:{value:"",commentaire:""}},salle:{proprete_table:{value:"",commentaire:""},proprete_chaise:{value:"",commentaire:""},proprete_tenue_responsable:{value:"",commentaire:""},proprete_tenue_serveur:{value:"",commentaire:""},proprete_bouteilles_huile:{value:"",commentaire:""},proprete_poubelle_salle:{value:"",commentaire:""},proprete_torchon:{value:"",commentaire:""},proprete_boxs_livreurs:{value:"",commentaire:""},proprete_poste_caisse:{value:"",commentaire:""}},poste_pizza:{proprete_comptoir_pizzeria:{value:"",commentaire:""},proprete_tenues_pizzaiolo:{value:"",commentaire:""},proprete_ustensiles_pizzeria:{value:"",commentaire:""},proprete_poubelle_pizzeria:{value:"",commentaire:""},proprete_torchon_pizzeria:{value:"",commentaire:""}},wc_client:{proprete_sol_wc:{value:"",commentaire:""},proprete_sanitaire:{value:"",commentaire:""},proprete_miroir:{value:"",commentaire:""},proprete_poubelle_wc:{value:"",commentaire:""}},cuisine:{proprete_comptoir_chaud:{value:"",commentaire:""},proprete_comptoir_froid:{value:"",commentaire:""},proprete_armoires_positives:{value:"",commentaire:""},proprete_congelateurs:{value:"",commentaire:""},proprete_piano_chaud:{value:"",commentaire:""},proprete_salamander:{value:"",commentaire:""},proprete_micro_onde:{value:"",commentaire:""},proprete_tenues_cuisiniers:{value:"",commentaire:""},proprete_torchon_cuisine:{value:"",commentaire:""}},vestiaire:{controle_odeurs_casiers:{value:"",commentaire:""},controle_proprete_poubelles:{value:"",commentaire:""},controle_proprete_wc_personnel:{value:"",commentaire:""}},facade_terrasse:{proprete_enseigne:{value:"",commentaire:""},proprete_drapeau:{value:"",commentaire:""},proprete_vitres:{value:"",commentaire:""},proprete_jardiniere:{value:"",commentaire:""},proprete_sol_terrasse:{value:"",commentaire:""},proprete_tapis_sol:{value:"",commentaire:""}}}});function g(r){r.preventDefault(),h("/fiche-controle/form",{onError:p=>{console.error(p)}})}const l=(r,p)=>n("div",{className:"mt-8",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:r}),n("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:n("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Moyens"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Etat oui"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Etat non"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commentaires"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(p).map(([o,d])=>n("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}),e("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e("input",{type:"radio",checked:i.get(t,`data.moyens.${r.toLowerCase()}.${o}.etat`)==="oui",onChange:()=>{const a=i.cloneDeep(t);i.set(a,`data.moyens.${r.toLowerCase()}.${o}.etat`,"oui"),m(a)}})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e("input",{type:"radio",checked:i.get(t,`data.moyens.${r.toLowerCase()}.${o}.etat`)==="non",onChange:()=>{const a=i.cloneDeep(t);i.set(a,`data.moyens.${r.toLowerCase()}.${o}.etat`,"non"),m(a)}})}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:e("input",{type:"text",value:d.commentaire,onChange:a=>{const s=i.cloneDeep(t);i.set(s,`data.moyens.${r.toLowerCase()}.${o}.commentaire`,a.target.value),m(s)},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]},o))})]})]}),c=(r,p)=>n("div",{className:"mt-8",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:r}),n("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:n("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Désignation des contrôles"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bien"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Moyen"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mediocre"}),e("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Neant"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commentaires"})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(p).map(([o,d])=>n("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}),["bien","moyen","mediocre","neant"].map(a=>e("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e("input",{type:"radio",checked:i.get(t,`data.controles.${r.toLowerCase()}.${o}.value`)===a,onChange:()=>{const s=i.cloneDeep(t);i.set(s,`data.controles.${r.toLowerCase()}.${o}.value`,a),m(s)}})},a)),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:e("input",{type:"text",value:d.commentaire,onChange:a=>{const s=i.cloneDeep(t);i.set(s,`data.controles.${r.toLowerCase()}.${o}.commentaire`,a.target.value),m(s)},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]},o))})]})]});return e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-10 py-10",children:e("form",{onSubmit:g,className:"space-y-8",children:n("div",{className:"space-y-6",children:[e("div",{className:"flex justify-between items-start",children:n("div",{children:[e("h2",{className:"text-xl font-semibold",children:"Fiche contrôle hygiène"}),n("div",{className:"mt-4 space-y-4",children:[n("div",{className:"flex space-x-4 items-center",children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),e("input",{type:"date",value:t.date,onChange:r=>m("date",r.target.value),className:"shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm border-gray-300 rounded-md"})]}),n("div",{className:"flex space-x-4 items-center",children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Restaurant"}),e("input",{type:"text",value:t.restau,disabled:!0,className:"shadow-sm bg-gray-50 sm:text-sm border-gray-300 rounded-md"})]})]})]})}),l("Economat",t.data.moyens.economat),l("Salle",t.data.moyens.salle),l("Pizzeria",t.data.moyens.pizzeria),l("WC Client",t.data.moyens.wc_client),l("Cuisine",t.data.moyens.cuisine),l("Vestiaire",t.data.moyens.vestiaire),c("Rangement Economats",t.data.controles.rangement_economats),c("Salle",t.data.controles.salle),c("Poste Pizza",t.data.controles.poste_pizza),c("WC Client",t.data.controles.wc_client),c("Cuisine",t.data.controles.cuisine),c("Vestiaire",t.data.controles.vestiaire),c("Facade et Terrasse",t.data.controles.facade_terrasse),n("div",{className:"pt-8 flex justify-end space-x-3",children:[e(f,{href:"/",className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Annuler"}),e("button",{type:"submit",disabled:u,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:u?"Enregistrement...":"Enregistrer"})]})]})})})}export{C as default};
