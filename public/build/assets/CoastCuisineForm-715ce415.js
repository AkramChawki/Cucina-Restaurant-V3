import{r as h,a as r,j as t,f as u}from"./app-6114d1f4.js";function x({restaurant:n,products:c,currentMonth:i}){const[a,o]=h.useState(new Date(i.year,i.month-1)),d=Array.from({length:new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},(e,s)=>s+1),m=(e,s,l)=>{u.post(route("coast-cuisine.update-value"),{restaurant_id:n.id,product_id:e,day:s,month:a.getMonth()+1,year:a.getFullYear(),value:l||0},{preserveScroll:!0,preserveState:!0})},g=e=>{e.target.blur()};return r("div",{className:"p-4 sm:p-6",children:[t("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r("div",{className:"flex-1",children:[t("h2",{className:"text-lg font-semibold text-gray-900",children:"Coast Cuisine"}),r("p",{className:"mt-1 text-sm text-gray-600",children:[n.name," - ",a.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})]})]}),t("div",{className:"flex-shrink-0",children:t("input",{type:"month",value:`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`,onChange:e=>o(new Date(e.target.value)),className:"block w-full sm:w-auto border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})})]})}),t("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t("div",{className:"overflow-x-auto",children:r("table",{className:"min-w-full divide-y divide-gray-200",children:[t("thead",{className:"bg-gray-50",children:r("tr",{children:[t("th",{scope:"col",className:"sticky left-0 z-10 bg-gray-50 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),t("th",{scope:"col",className:"sticky left-48 z-10 bg-gray-50 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"UnitÃ©"}),d.map(e=>t("th",{scope:"col",className:"px-2 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:e},e))]})}),t("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>r("tr",{children:[t("td",{className:"sticky left-0 z-10 bg-white px-4 py-2 text-sm font-medium text-gray-900",children:e.designation}),t("td",{className:"sticky left-48 z-10 bg-white px-4 py-2 text-sm text-gray-500",children:e.unite}),d.map(s=>t("td",{className:"px-1 py-1 text-sm",children:t("input",{type:"number",className:"w-full border-gray-300 rounded-sm focus:ring-green-500 focus:border-green-500 text-sm p-1",value:e.values[s]||"",onChange:l=>m(e.id,s,l.target.value),onWheel:g,step:"0.01",min:"0"})},s))]},e.id))})]})})})]})}export{x as default};
