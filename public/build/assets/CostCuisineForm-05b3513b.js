import{r as p,a as r,j as a,f}from"./app-aa9733b4.js";function v({restaurant:l,products:g,currentMonth:i}){const[s,h]=p.useState(new Date(i.year,i.month-1)),d=Array.from({length:new Date(s.getFullYear(),s.getMonth()+1,0).getDate()},(e,t)=>t+1),o=(e,t,n,u)=>{f.post(route("cost-cuisine.update-value"),{restaurant_id:l.id,product_id:e,day:t,month:s.getMonth()+1,year:s.getFullYear(),period:n,value:u||0},{preserveScroll:!0,preserveState:!0})},c=e=>{e.target.blur()},m=(e,t,n)=>!e.values||!e.values[t]?"":e.values[t][n]||"";return r("div",{className:"p-4 sm:p-6",children:[a("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:r("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r("div",{className:"flex-1",children:[a("h2",{className:"text-lg font-semibold text-gray-900",children:"Cost Cuisine"}),r("p",{className:"mt-1 text-sm text-gray-600",children:[l.name," - ",s.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})]})]}),a("div",{className:"flex-shrink-0",children:a("input",{type:"month",value:`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`,onChange:e=>h(new Date(e.target.value)),className:"block w-full sm:w-auto border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})})]})}),a("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a("div",{className:"overflow-x-auto",children:r("table",{className:"min-w-full divide-y divide-gray-200",children:[a("thead",{className:"bg-gray-50",children:r("tr",{children:[a("th",{scope:"col",className:"sticky left-0 z-10 bg-gray-50 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-48",children:"Produit"}),d.map(e=>r("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:[a("div",{className:"mb-1",children:e}),r("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[a("span",{children:"Matin"}),a("span",{children:"AprÃ¨s-midi"})]})]},e))]})}),a("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>r("tr",{children:[a("td",{className:"sticky left-0 z-10 bg-white px-4 py-2",children:r("div",{className:"flex items-center",children:[a("img",{src:`https://admin.cucinanapoli.com/storage/${e.image}`,alt:e.designation,className:"h-12 w-12 object-cover rounded-md mr-3"}),a("span",{className:"text-sm font-medium text-gray-900",children:e.designation})]})}),d.map(t=>a("td",{className:"px-1 py-1",children:r("div",{className:"grid grid-cols-2 gap-1",children:[a("input",{type:"number",className:"w-full border-gray-300 rounded-sm focus:ring-green-500 focus:border-green-500 text-sm p-1",value:m(e,t,"morning"),onChange:n=>o(e.id,t,"morning",n.target.value),onWheel:c,step:"0.01",min:"0",placeholder:"0"}),a("input",{type:"number",className:"w-full border-gray-300 rounded-sm focus:ring-green-500 focus:border-green-500 text-sm p-1",value:m(e,t,"afternoon"),onChange:n=>o(e.id,t,"afternoon",n.target.value),onWheel:c,step:"0.01",min:"0",placeholder:"0"})]})},t))]},e.id))})]})})})]})}export{v as default};
