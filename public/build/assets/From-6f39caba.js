import{q as b,r as f,W as x,j as e,a as r,d as y}from"./app-371a344e.js";function C(){const{auth:i}=b().props,n=new URLSearchParams(window.location.search).get("restau"),d=f.useRef(null),{data:t,setData:m,post:c,processing:N,errors:l}=x({name:i.user.name,date:"",restau:n,type:"",produit:"",date_production:"",probleme:"",images:[]}),u=["probleme sous vide","probleme DLC date","probleme qualite produit","produit abime"],p=s=>{const a=Array.from(s.target.files);m("images",a)};function g(s){s.preventDefault();const a=new FormData;Object.keys(t).forEach(o=>{o==="images"?t.images.forEach(h=>{a.append("images[]",h)}):a.append(o,t[o])}),c("/produit-non-conforme/form",{data:a,preserveState:!0,preserveScroll:!0,forceFormData:!0,onSuccess:()=>{console.log("Form submitted successfully"),d.current&&(d.current.value="")},onError:o=>{console.error("Form submission errors:",o)}})}return e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 px-10 py-10",children:r("form",{className:"space-y-8 divide-y divide-gray-200",onSubmit:g,children:[e("div",{className:"space-y-8 divide-y divide-gray-200 sm:space-y-5",children:r("div",{children:[e("div",{children:e("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"CUCINA NAPOLI - Produit Non Conforme"})}),r("div",{className:"mt-6 sm:mt-5 space-y-6 sm:space-y-5",children:[r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Date"}),e("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:e("div",{className:"max-w-lg flex rounded-md shadow-sm",children:e("input",{type:"date",name:"date",id:"date",value:t.date,onChange:s=>m("date",s.target.value),className:"flex-1 block w-full focus:ring-green-500 focus:border-green-500 min-w-0 rounded-none rounded-r-md sm:text-sm border-gray-300"})})})]}),r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Cuisinier ou Pizzaiolo"}),e("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:r("select",{id:"type",name:"type",value:t.type,onChange:s=>m("type",s.target.value),className:"max-w-lg block focus:ring-green-500 focus:border-green-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:[e("option",{value:"",children:"Sélectionnez un type"}),e("option",{value:"cuisinier",children:"Cuisinier"}),e("option",{value:"pizzaiolo",children:"Pizzaiolo"})]})})]}),r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"produit",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Produit"}),e("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:e("input",{type:"text",name:"produit",id:"produit",value:t.produit,onChange:s=>m("produit",s.target.value),className:"max-w-lg block w-full shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm border-gray-300 rounded-md"})})]}),r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"date_production",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Date Production"}),e("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:e("input",{type:"date",name:"date_production",id:"date_production",value:t.date_production,onChange:s=>m("date_production",s.target.value),className:"max-w-lg block w-full shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm border-gray-300 rounded-md"})})]}),r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"probleme",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Problème lié au produit"}),e("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:r("select",{id:"probleme",name:"probleme",value:t.probleme,onChange:s=>m("probleme",s.target.value),className:"max-w-lg block focus:ring-green-500 focus:border-green-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:[e("option",{value:"",children:"Sélectionnez un problème"}),u.map(s=>e("option",{value:s,children:s},s))]})})]}),r("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[e("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Photos"}),r("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:[e("input",{type:"file",name:"images",id:"images",ref:d,multiple:!0,accept:"image/*",onChange:p,className:"max-w-lg block w-full shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm border-gray-300 rounded-md"}),l.images&&e("p",{className:"mt-2 text-sm text-red-600",children:l.images}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Sélectionnez une ou plusieurs photos (JPG, PNG). Maximum 2MB par image."})]})]})]})]})}),e("div",{className:"pt-5",children:r("div",{className:"flex justify-end",children:[e(y,{type:"button",as:"button",href:"/",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Annuler"}),e("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Ajouter"})]})})]})})}export{C as default};
