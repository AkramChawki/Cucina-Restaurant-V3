import{q as h,r as c,j as e,a as n,d as o}from"./app-bcc4dfed.js";function p({restaurants:u}){const{auth:r}=h().props,[a,l]=c.useState(""),i=c.useMemo(()=>{if(!r.user.restau)return[];if(!Array.isArray(r.user.restau))try{const s=JSON.parse(r.user.restau);Array.isArray(s)&&(r.user.restau=s)}catch{return[]}return u.filter(s=>{const m=s.name.toLowerCase();return r.user.restau.some(f=>m.includes(f.toLowerCase()))})},[u,r.user.restau]),d=t=>{l(t.target.value)};return i.length?e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 flex h-screen",children:n("div",{className:"m-auto w-[90%] relative",children:[n("div",{className:"border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-[#73ac70] focus-within:border-[#73ac70]",children:[e("label",{htmlFor:"restaurant",className:"px-1 bg-white text-xs font-medium text-gray-900",children:"Sélectionner le restaurant"}),n("select",{value:a,onChange:d,id:"restaurant",name:"restaurant",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-[#90D88C] focus:border-[#90D88C] sm:text-sm rounded-md",children:[e("option",{value:"",children:"Selectionner le restaurant ..."}),i.map(t=>e("option",{value:t.slug,children:t.name},t.id))]})]}),a!==""&&n("div",{className:"mt-4 space-y-2",children:[e(o,{href:`/cost-economat/${encodeURIComponent(a)}`,className:"inline-flex w-full items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Continuer"}),e(o,{href:"/",className:"inline-flex w-full items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Annuler"})]})]})}):e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 flex h-screen",children:n("div",{className:"m-auto w-[90%] relative",children:[e("p",{className:"text-red-500",children:"Restaurant non trouvé"}),e(o,{href:"/",className:"inline-flex w-full mt-2 text-left items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-[#73ac70] hover:bg-[#0D3D33] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#90D88C]",children:"Retour"})]})})}export{p as default};
