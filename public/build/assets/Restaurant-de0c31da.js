import{r as c,i as x,W as I,j as p,a as e,f as O}from"./app-989099d2.js";import{b,D as L,I as $,y as M,l as F,X as N,f as W,M as H,h as K,p as Y,d as _,e as V,R as X,r as Z,g as S}from"./description-9b76838b.js";function q(n){var i;let t=(i=n==null?void 0:n.form)!=null?i:n.closest("form");if(t){for(let r of t.elements)if(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image"){r.click();return}}}function J(n,i,t){let[r,m]=c.useState(t),l=n!==void 0,s=c.useRef(l),a=c.useRef(!1),o=c.useRef(!1);return l&&!s.current&&!a.current?(a.current=!0,s.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&s.current&&!o.current&&(o.current=!0,s.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:r,b(d=>(l||m(d),i==null?void 0:i(d)))]}let j=c.createContext(null);function P(){let n=c.useContext(j);if(n===null){let i=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(i,P),i}return n}function Q(){let[n,i]=c.useState([]);return[n.length>0?n.join(" "):void 0,c.useMemo(()=>function(t){let r=b(l=>(i(s=>[...s,l]),()=>i(s=>{let a=s.slice(),o=a.indexOf(l);return o!==-1&&a.splice(o,1),a}))),m=c.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props}),[r,t.slot,t.name,t.props]);return x.createElement(j.Provider,{value:m},t.children)},[i])]}let ee="label";function te(n,i){let t=$(),{id:r=`headlessui-label-${t}`,passive:m=!1,...l}=n,s=P(),a=M(i);F(()=>s.register(r),[r,s.register]);let o={ref:a,...s.props,id:r};return m&&("onClick"in o&&(delete o.htmlFor,delete o.onClick),"onClick"in l&&delete l.onClick),N({ourProps:o,theirProps:l,slot:s.slot||{},defaultTag:ee,name:s.name||"Label"})}let ne=L(te),re=Object.assign(ne,{}),k=c.createContext(null);k.displayName="GroupContext";let ae=c.Fragment;function le(n){var i;let[t,r]=c.useState(null),[m,l]=Q(),[s,a]=H(),o=c.useMemo(()=>({switch:t,setSwitch:r,labelledby:m,describedby:s}),[t,r,m,s]),d={},v=n;return x.createElement(a,{name:"Switch.Description"},x.createElement(l,{name:"Switch.Label",props:{htmlFor:(i=o.switch)==null?void 0:i.id,onClick(h){t&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},x.createElement(k.Provider,{value:o},N({ourProps:d,theirProps:v,defaultTag:ae,name:"Switch.Group"}))))}let ie="button";function se(n,i){let t=$(),{id:r=`headlessui-switch-${t}`,checked:m,defaultChecked:l=!1,onChange:s,name:a,value:o,form:d,...v}=n,h=c.useContext(k),g=c.useRef(null),R=M(g,i,h===null?null:h.setSwitch),[y,w]=J(m,s,l),E=b(()=>w==null?void 0:w(!y)),z=b(u=>{if(Z(u.currentTarget))return u.preventDefault();u.preventDefault(),E()}),D=b(u=>{u.key===S.Space?(u.preventDefault(),E()):u.key===S.Enter&&q(u.currentTarget)}),A=b(u=>u.preventDefault()),B=c.useMemo(()=>({checked:y}),[y]),U={id:r,ref:R,role:"switch",type:K(n,g),tabIndex:0,"aria-checked":y,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,onClick:z,onKeyUp:D,onKeyPress:A},G=Y();return c.useEffect(()=>{var u;let C=(u=g.current)==null?void 0:u.closest("form");C&&l!==void 0&&G.addEventListener(C,"reset",()=>{w(l)})},[g,w]),x.createElement(x.Fragment,null,a!=null&&y&&x.createElement(_,{features:V.Hidden,...X({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:d,checked:y,name:a,value:o})}),N({ourProps:U,theirProps:v,slot:B,defaultTag:ie,name:"Switch"}))}let oe=L(se),ce=le,T=Object.assign(oe,{Group:ce,Label:re,Description:W});function f(...n){return n.filter(Boolean).join(" ")}function me({restaurant:n,products:i}){const[t,r]=c.useState(n.visible),{post:m}=I(),l=()=>{m(`/restaurant/${n.id}/toggle-visibility`,{onSuccess:()=>{r(!t)},onError:a=>{console.error(a)}})},s=(a,o)=>{O.post(`/product/${a}/toggle-restaurant`,{restaurant_name:n.name,add_restaurant:o},{onSuccess:()=>{},onError:d=>{console.error(d)}})};return p("div",{className:"container mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"bg-white px-4 py-5 border-b border-gray-200 sm:px-6",children:p("div",{className:"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-nowrap",children:[e("div",{className:"ml-4 mt-2",children:e("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.name})}),e("div",{className:"ml-4 mt-2 flex-shrink-0",children:p(T,{checked:t,onChange:l,className:f(t?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[e("span",{className:"sr-only",children:"Use setting"}),p("span",{className:f(t?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[e("span",{className:f(t?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),e("span",{className:f(t?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-indigo-600",fill:"currentColor",viewBox:"0 0 12 12",children:e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})})})]})]})})]})}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:p("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:p("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(a=>{const o=Array.isArray(a.restaurant)&&a.restaurant.includes(n.name),[d,v]=c.useState(o),h=async()=>{const g=!d;v(g),await s(a.id,g)};return p("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"flex items-center",children:e("div",{className:"flex-shrink-0 h-10 w-10",children:e("img",{className:"h-10 w-10 rounded-full",src:"",alt:""})})})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm text-gray-900",children:a.name})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:p(T,{checked:d,onChange:h,className:f(d?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[e("span",{className:"sr-only",children:"Use setting"}),p("span",{className:f(d?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[e("span",{className:f(d?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),e("span",{className:f(d?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-indigo-600",fill:"currentColor",viewBox:"0 0 12 12",children:e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414z"})})})]})]})})]},a.id)})})]})})})})})]})}export{me as default};
