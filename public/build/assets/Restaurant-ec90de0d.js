import{r as o,i as x,W as I,j as f,a as e,f as O}from"./app-104e144c.js";import{b as v,D as $,I as M,y as j,l as F,X as k,f as W,M as H,h as K,p as Y,d as _,e as V,R as X,r as Z,g as T}from"./description-9b4a1cf5.js";function q(n){var s;let r=(s=n==null?void 0:n.form)!=null?s:n.closest("form");if(r){for(let t of r.elements)if(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image"){t.click();return}}}function J(n,s,r){let[t,u]=o.useState(r),l=n!==void 0,i=o.useRef(l),c=o.useRef(!1),a=o.useRef(!1);return l&&!i.current&&!c.current?(c.current=!0,i.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&i.current&&!a.current&&(a.current=!0,i.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?n:t,v(p=>(l||u(p),s==null?void 0:s(p)))]}let P=o.createContext(null);function R(){let n=o.useContext(P);if(n===null){let s=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,R),s}return n}function Q(){let[n,s]=o.useState([]);return[n.length>0?n.join(" "):void 0,o.useMemo(()=>function(r){let t=v(l=>(s(i=>[...i,l]),()=>s(i=>{let c=i.slice(),a=c.indexOf(l);return a!==-1&&c.splice(a,1),c}))),u=o.useMemo(()=>({register:t,slot:r.slot,name:r.name,props:r.props}),[t,r.slot,r.name,r.props]);return x.createElement(P.Provider,{value:u},r.children)},[s])]}let ee="label";function te(n,s){let r=M(),{id:t=`headlessui-label-${r}`,passive:u=!1,...l}=n,i=R(),c=j(s);F(()=>i.register(t),[t,i.register]);let a={ref:c,...i.props,id:t};return u&&("onClick"in a&&(delete a.htmlFor,delete a.onClick),"onClick"in l&&delete l.onClick),k({ourProps:a,theirProps:l,slot:i.slot||{},defaultTag:ee,name:i.name||"Label"})}let ne=$(te),re=Object.assign(ne,{}),C=o.createContext(null);C.displayName="GroupContext";let ae=o.Fragment;function le(n){var s;let[r,t]=o.useState(null),[u,l]=Q(),[i,c]=H(),a=o.useMemo(()=>({switch:r,setSwitch:t,labelledby:u,describedby:i}),[r,t,u,i]),p={},m=n;return x.createElement(c,{name:"Switch.Description"},x.createElement(l,{name:"Switch.Label",props:{htmlFor:(s=a.switch)==null?void 0:s.id,onClick(h){r&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},x.createElement(C.Provider,{value:a},k({ourProps:p,theirProps:m,defaultTag:ae,name:"Switch.Group"}))))}let se="button";function ie(n,s){let r=M(),{id:t=`headlessui-switch-${r}`,checked:u,defaultChecked:l=!1,onChange:i,name:c,value:a,form:p,...m}=n,h=o.useContext(C),y=o.useRef(null),w=j(y,s,h===null?null:h.setSwitch),[b,N]=J(u,i,l),E=v(()=>N==null?void 0:N(!b)),z=v(d=>{if(Z(d.currentTarget))return d.preventDefault();d.preventDefault(),E()}),D=v(d=>{d.key===T.Space?(d.preventDefault(),E()):d.key===T.Enter&&q(d.currentTarget)}),A=v(d=>d.preventDefault()),B=o.useMemo(()=>({checked:b}),[b]),U={id:t,ref:w,role:"switch",type:K(n,y),tabIndex:0,"aria-checked":b,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,onClick:z,onKeyUp:D,onKeyPress:A},G=Y();return o.useEffect(()=>{var d;let S=(d=y.current)==null?void 0:d.closest("form");S&&l!==void 0&&G.addEventListener(S,"reset",()=>{N(l)})},[y,N]),x.createElement(x.Fragment,null,c!=null&&b&&x.createElement(_,{features:V.Hidden,...X({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:p,checked:b,name:c,value:a})}),k({ourProps:U,theirProps:m,slot:B,defaultTag:se,name:"Switch"}))}let oe=$(ie),ce=le,L=Object.assign(oe,{Group:ce,Label:re,Description:W});function g(...n){return n.filter(Boolean).join(" ")}function me({restaurant:n,products:s}){const r=n.name.toLowerCase(),[t,u]=o.useState(n.visible),{post:l}=I(),i=()=>{l(`/restaurant/${n.id}/toggle-visibility`,{onSuccess:()=>{u(!t)},onError:a=>{console.error(a)}})},c=(a,p)=>{O.post(`/product/${a}/toggle-restaurant`,{restaurant_name:r,add_restaurant:p},{onSuccess:()=>{},onError:m=>{console.error(m)}})};return f("div",{className:"container mx-auto sm:px-6 lg:px-8",children:[e("div",{className:"bg-white px-4 py-5 border-b border-gray-200 sm:px-6",children:f("div",{className:"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-nowrap",children:[e("div",{className:"ml-4 mt-2",children:e("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.name})}),e("div",{className:"ml-4 mt-2 flex-shrink-0",children:f(L,{checked:t,onChange:i,className:g(t?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"),children:[e("span",{className:"sr-only",children:"Use setting"}),f("span",{className:g(t?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[e("span",{className:g(t?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),e("span",{className:g(t?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-green-600",fill:"currentColor",viewBox:"0 0 12 12",children:e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})})})]})]})})]})}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:e("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:f("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:f("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(a=>{const p=Array.isArray(a.restaurant)&&a.restaurant.includes(r),[m,h]=o.useState(p),y=async()=>{const w=!m;h(w),await c(a.id,w)};return f("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"flex items-center",children:e("div",{className:"flex-shrink-0 h-10 w-10",children:e("img",{className:"h-10 w-10 rounded-full",src:"",alt:""})})})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm text-gray-900",children:a.name})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f(L,{checked:m,onChange:y,className:g(m?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"),children:[e("span",{className:"sr-only",children:"Use setting"}),f("span",{className:g(m?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"),children:[e("span",{className:g(m?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),e("span",{className:g(m?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"),"aria-hidden":"true",children:e("svg",{className:"h-3 w-3 text-green-600",fill:"currentColor",viewBox:"0 0 12 12",children:e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414z"})})})]})]})})]},a.id)})})]})})})})})]})}export{me as default};
