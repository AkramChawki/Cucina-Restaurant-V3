import{r as p,a as r,j as t,f as x}from"./app-9c1fd1a3.js";function v({restaurant:l,products:g,currentMonth:i}){const[s,h]=p.useState(new Date(i.year,i.month-1)),o=Array.from({length:new Date(s.getFullYear(),s.getMonth()+1,0).getDate()},(e,a)=>a+1),d=(e,a,n,u)=>{x.post(route("cost-cuisine.update-value"),{restaurant_id:l.id,product_id:e,day:a,month:s.getMonth()+1,year:s.getFullYear(),period:n,value:u||0},{preserveScroll:!0,preserveState:!0})},c=e=>{e.target.blur()},m=(e,a,n)=>!e.values||!e.values[a]?"":e.values[a][n]||"";return r("div",{className:"flex flex-col h-full",children:[t("div",{className:"bg-white p-4 border-b shadow-sm",children:r("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 max-w-7xl mx-auto",children:[r("div",{children:[t("h1",{className:"text-xl font-semibold text-gray-900",children:"Cost Cuisine"}),r("p",{className:"text-sm text-gray-600",children:[l.name," - ",s.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})]})]}),t("input",{type:"month",value:`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`,onChange:e=>h(new Date(e.target.value)),className:"border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]})}),r("div",{className:"relative flex-1 overflow-hidden",children:[t("div",{className:"absolute left-0 top-0 bottom-0 w-4 bg-gradient-to-r from-white to-transparent z-10 pointer-events-none"}),t("div",{className:"absolute right-0 top-0 bottom-0 w-4 bg-gradient-to-l from-white to-transparent z-10 pointer-events-none"}),t("div",{className:"overflow-x-auto overflow-y-auto h-full",children:r("table",{className:"w-full border-collapse min-w-max",children:[t("thead",{className:"bg-gray-50 sticky top-0 z-20",children:r("tr",{children:[t("th",{className:"sticky left-0 z-30 bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[240px]",children:"Produit"}),o.map(e=>r("th",{className:"px-3 py-3 text-center border-x",children:[t("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:e}),r("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[t("div",{className:"text-xs text-gray-500",children:"Matin"}),t("div",{className:"text-xs text-gray-500",children:"Midi"})]})]},e))]})}),t("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>r("tr",{className:"hover:bg-gray-50",children:[t("td",{className:"sticky left-0 bg-white border-r px-6 py-4 whitespace-nowrap z-20 hover:bg-gray-50",children:r("div",{className:"flex items-center gap-3",children:[t("img",{src:`https://admin.cucinanapoli.com/storage/${e.image}`,alt:e.designation,className:"h-12 w-12 object-cover rounded-md"}),t("span",{className:"text-sm font-medium text-gray-900",children:e.designation})]})}),o.map(a=>t("td",{className:"px-1 py-2 border-x",children:r("div",{className:"grid grid-cols-2 gap-1",children:[t("input",{type:"number",className:"w-full border-gray-300 rounded-sm focus:ring-green-500 focus:border-green-500 text-sm p-1",value:m(e,a,"morning"),onChange:n=>d(e.id,a,"morning",n.target.value),onWheel:c,step:"0.01",min:"0",placeholder:"0"}),t("input",{type:"number",className:"w-full border-gray-300 rounded-sm focus:ring-green-500 focus:border-green-500 text-sm p-1",value:m(e,a,"afternoon"),onChange:n=>d(e.id,a,"afternoon",n.target.value),onWheel:c,step:"0.01",min:"0",placeholder:"0"})]})},a))]},e.id))})]})})]})]})}export{v as default};
